!function(){"use strict";angular.module("frontend",["frontend.config","ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ngResource","ui.router","ui.bootstrap","restangular","ui.gravatar","toastr","ngRaven","ngStorage","ui.checkbox","oitozero.ngSweetAlert","localytics.directives","uiSwitch","angularUtils.directives.dirPagination","ui.slimscroll","ngFileUpload","daterangepicker"])}(),function(){"use strict";function e(e){function i(e,i,a,t,s,n){var o=this,c={};o.capitulos,o.estatus,o.name,o.disableEstatusSelect2=!0,o.disableDecisionSelect2=!0,o.showSpanDecisionDoble=!1,o.capitulo_seleccionado=null,o.estatus_seleccionado=null,o.disableEstatusSelect=!0,o.disableEstatusFinal=!0,o.disableSpanCapitulos=!1,o.decision_seleccionada=null,o.SpanDecisionNoSeleccionado=!1,o.spanTitle=!1,o.SpanEstatusNoSeleccionado=!1,o.disableSpanEstatus=!1,o.disablePrimerEstatus=!0,o.primerEstatus=!1,o.saveDisable=!1,o.decisions=[],o.decisions2=[],o.EstatusFinal=!1,o.disableMasDeUnaDecision=!1,o.dobleDecisionAnterior=!1,s.ObtenerCapitulos(c).then(function(e){console.log(e);for(var i=0;i<e.data.length;i++)e.data[i].index=i;o.capitulos=e.data,console.log(o.capitulos)})["catch"](function(e){o.saveDisable=!0,o.disableSpanCapitulos=!0,console.log(e)}),o.cambioPrimerEstaus=function(){o.primerEstatus?(o.primerEstatus=!0,o.disableEstatusFinal=!0,o.disableEstatusSelect=!0,o.estatus_seleccionado=null,o.EstatusFinal=!1):(o.primerEstatus=!1,o.disableEstatusFinal=!1),console.log(o.primerEstatus)},o.cambioDobleDecisionAnterior=function(){o.dobleDecisionAnterior?(o.disableEstatusSelect2=!1,o.disableDecisionSelect2=!1,o.dobleDecisionAnterior=!0):(o.disableEstatusSelect2=!0,o.disableDecisionSelect2=!0,o.dobleDecisionAnterior=!1),console.log(o.dobleDecisionAnterior)},o.cambioEstatusFinal=function(){o.EstatusFinal?(o.EstatusFinal=!0,o.disablePrimerEstatus=!0,o.primerEstatus=!1):(o.EstatusFinal=!1,o.disablePrimerEstatus=!1),console.log(o.EstatusFinal)},o.cambioEstatus=function(){o.decisions=[],o.SpanEstatusNoSeleccionado=!1,o.disableSpanDecision=!1,o.saveDisable=!1;var e={status:o.estatus[o.estatus_seleccionado].id_estatus};s.ObtenerDecisiones(e).then(function(e){var i=0;if(null==e.data[0].idNextStatusOne||null==e.data[0].idNextStatusTwo||null==e.data[0].idNextStatusThree){if(null==e.data[0].idNextStatusOne){var a={index:i,name:e.data[0].descriptionOne,id_decision:{id_decision:e.data[0].id_decision},updateDecision:{idNextStatusOne:""},type:1};o.decisions.push(a),i++}if(null==e.data[0].idNextStatusTwo){var t={index:i,name:e.data[0].descriptionTwo,id_decision:{id_decision:e.data[0].id_decision},updateDecision:{idNextStatusTwo:""},type:2};o.decisions.push(t),i++}if(!e.data[0].singleDecision&&null==e.data[0].idNextStatusThree){var s={index:i,name:e.data[0].descriptionThree,id_decision:{id_decision:e.data[0].id_decision},updateDecision:{idNextStatusThree:""},type:3};o.decisions.push(s),i++}}else o.disableSpanDecision=!0,o.saveDisable=!0})["catch"](function(e){o.saveDisable=!0,o.disableSpanDecision=!0})},o.cambioEstatus2=function(){o.SpanEstatusNoSeleccionado2=!1,o.disableSpanDecision2=!1,o.saveDisable=!1,o.decisions2=[];var e={status:o.estatus[o.estatus_seleccionado2].id_estatus};s.ObtenerDecisiones(e).then(function(e){var i=0;if(null==e.data[0].idNextStatusOne||null==e.data[0].idNextStatusTwo||null==e.data[0].idNextStatusThree){if(null==e.data[0].idNextStatusOne){var a={index:i,name:e.data[0].descriptionOne,id_decision:{id_decision:e.data[0].id_decision},updateDecision:{idNextStatusOne:""},type:1};o.decisions2.push(a),i++}if(null==e.data[0].idNextStatusTwo){var t={index:i,name:e.data[0].descriptionTwo,id_decision:{id_decision:e.data[0].id_decision},updateDecision:{idNextStatusTwo:""},type:2};o.decisions2.push(t),i++}if(!e.data[0].singleDecision&&null==e.data[0].idNextStatusThree){var s={index:i,name:e.data[0].descriptionThree,id_decision:{id_decision:e.data[0].id_decision},updateDecision:{idNextStatusThree:""},type:3};o.decisions2.push(s),i++}}else o.disableSpanDecision2=!0,o.saveDisable=!0})["catch"](function(e){o.saveDisable=!0,o.disableSpanDecision2=!0})},o.cambioCapitulo=function(){if(null!=o.capitulo_seleccionado){o.disableSpanEstatus=!1,console.log(o.capitulo_seleccionado),o.disableEstatusSelect=!1;var e={chapter:o.capitulos[o.capitulo_seleccionado].id_chapter};console.log(e),s.ObtenerEstatus(e).then(function(e){for(var i=0;i<e.data.length;i++)e.data[i].index=i;console.log(e.data),o.estatus=e.data,o.capitulos[o.capitulo_seleccionado].unique_start?(o.disablePrimerEstatus=!0,o.disableEstatusFinal=!1,o.primerEstatus=!1):(o.disableEstatusFinal=!1,o.disablePrimerEstatus=!1)})["catch"](function(e){o.disableSpanEstatus=!0,o.disableEstatusFinal=!0,o.disablePrimerEstatus=!0,o.primerEstatus=!0,o.EstatusFinal=!1,console.log(e)})}},o.ok=function(){if(o.showSpanDecisionDoble=!1,o.primerEstatus)if(""!=o.title){var t={title:o.name,isStart:o.primerEstatus,isEnd:o.EstatusFinal,admin:a.idAdmin,chapter:o.capitulos[o.capitulo_seleccionado].id_chapter};console.log(t),s.CrearEstatus(t).then(function(a){console.log(a),i.$emit("statusAdded"),e.dismiss("close")})["catch"](function(e){console.log(e)})}else o.spanTitle=!0;else if(o.dobleDecisionAnterior)if(console.log("doble"),""!=o.title){var t={};null!=o.estatus_seleccionado?null!=o.estatus_seleccionado2?o.estatus[o.estatus_seleccionado].id_estatus==o.estatus[o.estatus_seleccionado2].id_estatus?o.showSpanDecisionDoble=!0:(t={title:o.name,isStart:o.primerEstatus,isEnd:o.EstatusFinal,lastStatus:o.estatus[o.estatus_seleccionado].id_estatus,lastStatus2:o.estatus[o.estatus_seleccionado2].id_estatus,admin:a.idAdmin,chapter:o.capitulos[o.capitulo_seleccionado].id_chapter},console.log(t),null!=o.decision_seleccionada?null!=o.decision_seleccionada2?s.CrearEstatus(t).then(function(a){switch(o.decisions[o.decision_seleccionada].type){case 1:o.decisions[o.decision_seleccionada].updateDecision.idNextStatusOne=a.data.id_estatus;break;case 2:o.decisions[o.decision_seleccionada].updateDecision.idNextStatusTwo=a.data.id_estatus;break;case 3:o.decisions[o.decision_seleccionada].updateDecision.idNextStatusThree=a.data.id_estatus}switch(o.decisions2[o.decision_seleccionada2].type){case 1:o.decisions2[o.decision_seleccionada2].updateDecision.idNextStatusOne=a.data.id_estatus;break;case 2:o.decisions2[o.decision_seleccionada2].updateDecision.idNextStatusTwo=a.data.id_estatus;break;case 3:o.decisions2[o.decision_seleccionada2].updateDecision.idNextStatusThree=a.data.id_estatus}var t={id_decision:o.decisions2[o.decision_seleccionada2].id_decision,updateDecision:o.decisions2[o.decision_seleccionada2].updateDecision},n={id_decision:o.decisions[o.decision_seleccionada].id_decision,updateDecision:o.decisions[o.decision_seleccionada].updateDecision};s.ActualizarDecisiones(n).then(function(a){console.log(a),s.ActualizarDecisiones(t).then(function(a){console.log(a),i.$emit("statusAdded"),e.dismiss("close")})["catch"](function(e){})})["catch"](function(e){})})["catch"](function(e){console.log(e)}):o.SpanDecisionNoSeleccionado2=!0:o.SpanDecisionNoSeleccionado=!0):o.SpanEstatusNoSeleccionado2=!0:o.SpanEstatusNoSeleccionado=!0}else o.spanTitle=!1;else if(""!=o.title){var t={};null!=o.estatus_seleccionado?(t={title:o.name,isStart:o.primerEstatus,isEnd:o.EstatusFinal,lastStatus:o.estatus[o.estatus_seleccionado].id_estatus,admin:a.idAdmin,chapter:o.capitulos[o.capitulo_seleccionado].id_chapter},console.log(t),null!=o.decision_seleccionada?s.CrearEstatus(t).then(function(a){switch(o.decisions[o.decision_seleccionada].type){case 1:o.decisions[o.decision_seleccionada].updateDecision.idNextStatusOne=a.data.id_estatus;break;case 2:o.decisions[o.decision_seleccionada].updateDecision.idNextStatusTwo=a.data.id_estatus;break;case 3:o.decisions[o.decision_seleccionada].updateDecision.idNextStatusThree=a.data.id_estatus}var t={id_decision:o.decisions[o.decision_seleccionada].id_decision,updateDecision:o.decisions[o.decision_seleccionada].updateDecision};s.ActualizarDecisiones(t).then(function(a){console.log(a),i.$emit("statusAdded"),e.dismiss("close")})["catch"](function(e){})})["catch"](function(e){console.log(e)}):o.SpanDecisionNoSeleccionado=!0):o.SpanEstatusNoSeleccionado=!0}else o.spanTitle=!1},o.cancel=function(){e.dismiss("cancel"),i.bp_beneficiario=""}}i.$inject=["$uibModalInstance","$rootScope","$localStorage","$window","Auth","$scope"];var a={restrict:"A",link:function(a,t){t.click(function(){e.open({animation:!0,templateUrl:"app/components/modals/addEstatus.html",controller:i,controllerAs:"vm",size:"md",backdrop:"static"})})}};return a}e.$inject=["$uibModal"],angular.module("frontend").directive("addEstatus",e)}(),function(){"use strict";function e(e){function i(e,i,a,t,s,n){var o=this;o.valido=!1,o.criterio;var c={};o.capitulos=[],o.capitulo_seleccionado=null,o.InicioUnico=!1,o.disabledSelectChapter=!1,s.ObtenerCapitulos(c).then(function(e){if(e.data.length<=0)o.disabledSelectChapter=!0;else{var i=0;e.data.forEach(function(a){null==a.next_chapter&&(e.data[i].index=i,i++,o.capitulos.push(a))}),console.log(o.capitulos)}})["catch"](function(e){console.log(e)}),o.cambioInicioUnico=function(){o.InicioUnico?o.InicioUnico=!0:o.InicioUnico=!1},o.ok=function(){n.frmnew.$valid&&(null!=o.capitulo_seleccionado?(console.log(o.capitulo_seleccionado),o.data={chapter_name:o.name,description:o.description,chapter_status:!1,admin:a.idAdmin,previous_chapter:o.capitulos[o.capitulo_seleccionado].id_chapter,unique_start:o.InicioUnico},console.log(o.data),s.CrearCapitulo(o.data).then(function(a){o.update={id_chapter:{id_chapter:o.capitulos[o.capitulo_seleccionado].id_chapter},sequenceUpdate:{next_chapter:a.data.id_chapter}},console.log(o.update),s.ActualizarCapitulo(o.update).then(function(a){console.log(a),e.close("close"),i.$emit("chapterAdded")})["catch"](function(e){console.log(e)})})["catch"](function(e){console.log(e)})):(o.data={chapter_name:o.name,description:o.description,chapter_status:!1,admin:a.idAdmin,previous_chapter:null,unique_start:o.InicioUnico},console.log(o.data),s.CrearCapitulo(o.data).then(function(a){e.close("close"),i.$emit("chapterAdded")})["catch"](function(e){console.log(e)})))},o.cancel=function(){e.dismiss("cancel")}}i.$inject=["$uibModalInstance","$rootScope","$localStorage","$window","Auth","$scope"];var a={restrict:"A",link:function(a,t){t.click(function(){e.open({animation:!0,templateUrl:"app/components/modals/addChapter.html",controller:i,controllerAs:"vm",size:"md",backdrop:"static"})})}};return a}e.$inject=["$uibModal"],angular.module("frontend").directive("addChapter",e)}(),angular.module("frontend").controller("MainController",["Auth","$scope","$localStorage","$location",function(e,i,a,t){console.log(a.permission),void 0==a.permission&&(console.log("cambio"),t.url("/login"))}]),function(){"use strict";function e(e,i,a,t){return{Login:function(i){var t=e.defer(),s=a.all("/login").post(i);return s.then(function(e){t.resolve(e)})["catch"](function(e){console.log(e),t.reject(e)}),t.promise},ObtenerCapitulos:function(i){var t=e.defer(),s=a.all("/chapter").customGET("",i);return s.then(function(e){t.resolve(e)})["catch"](function(e){console.log(e),t.reject(e)}),t.promise},ObtenerDecisiones:function(i){var t=e.defer(),s=a.all("/decision").customGET("",i);return s.then(function(e){t.resolve(e)})["catch"](function(e){console.log(e),t.reject(e)}),t.promise},CrearCapitulo:function(i){var t=e.defer(),s=a.all("/chapter").post(i);return s.then(function(e){t.resolve(e)})["catch"](function(e){console.log(e),t.reject(e)}),t.promise},CrearEstatus:function(i){var t=e.defer(),s=a.all("/status").post(i);return s.then(function(e){t.resolve(e)})["catch"](function(e){console.log(e),t.reject(e)}),t.promise},CrearDecision:function(i){var t=e.defer(),s=a.all("/decision").post(i);return s.then(function(e){t.resolve(e)})["catch"](function(e){console.log(e),t.reject(e)}),t.promise},ObtenerEstatus:function(i){var t=e.defer(),s=a.all("/status").customGET("",i);return s.then(function(e){t.resolve(e)})["catch"](function(e){console.log(e),t.reject(e)}),t.promise},ActualizarEstatus:function(i){var t=e.defer(),s=a.all("/status").customPUT(i,"");return s.then(function(e){t.resolve(e)})["catch"](function(e){console.log(e),t.reject(e)}),t.promise},ActualizarDecisiones:function(i){var t=e.defer(),s=a.all("/decision").customPUT(i,"");return s.then(function(e){t.resolve(e)})["catch"](function(e){console.log(e),t.reject(e)}),t.promise},ActualizarDecisionesTodo:function(i){var t=e.defer(),s=a.all("/decision").customPUT(i,"");return s.then(function(e){t.resolve(e)})["catch"](function(e){console.log(e),t.reject(e)}),t.promise},LiberarCapitulo:function(i){var t=e.defer(),s=a.all("/chapter").customPUT(i,"");return s.then(function(e){t.resolve(e)})["catch"](function(e){console.log(e),t.reject(e)}),t.promise},ActualizarCapitulo:function(i){var t=e.defer(),s=a.all("/chapter/sequenceUpdate").customPUT(i,"");return s.then(function(e){t.resolve(e)})["catch"](function(e){console.log(e),t.reject(e)}),t.promise}}}e.$inject=["$q","$localStorage","Restangular","Usuario"],angular.module("frontend").factory("Auth",e)}(),function(){"use strict";function e(e,i,a,t,s,n,o){var c=this;a.idAdmin=void 0,a.lvlAdmin=void 0,a.permission=void 0,c.login=function(){var i={name:c.username,password:c.contrasenia};e.Login(i).then(function(e){a.idAdmin=e.data.id_Admin,a.lvlAdmin=e.data.lvlAdmin,a.permission=!0,s.go("i.main"),console.log(e)})["catch"](function(e){console.log(e)})}}e.$inject=["Auth","EnvironmentConfig","$localStorage","$timeout","$state","$window","$location"],angular.module("frontend").controller("AuthController",e)}(),angular.module("frontend").controller("AdministradorController",["Auth","$rootScope","$scope","$localStorage",function(e,i,a,t){var s=this;void 0==t.permission&&(console.log("cambio"),$location.url("/login")),i.$on("chapterAdded",function(e,i){s.actualizarListaCapitulos()}),s.capitulos={};var n={};s.capitulo_seleccionado=null,s.actualizarListaCapitulos=function(){e.ObtenerCapitulos(n).then(function(e){for(var i=0;i<e.data.length;i++)e.data[i].index=i;s.capitulos=e.data,console.log(s.capitulos)})["catch"](function(e){console.log(e)})},s.actualizarListaCapitulos(),s.actualizar=function(){if(null!=s.capitulo_seleccionado){var i={id:s.capitulos[s.capitulo_seleccionado].id_chapter,status:!0};console.log(i),console.log(s.capitulo_seleccionado),e.LiberarCapitulo(i).then(function(e){console.log(e)})["catch"](function(e){console.log(e)})}}}]),angular.module("frontend").controller("AdministradorEstatusController",["Auth","$scope","$rootScope","$window","$localStorage",function(e,i,a,t,s){var n=this,o={};n.capitulos,n.estatus_seleccionado,n.status,n.statusDescription,n.showEditStatus=!1,n.buttonEditDisable=!0,n.errorNoStatus=!1,n.estatus_seleccionado=null,n.decisionType="",n.limiteTiempo=!1,n.disableDecisionType=!1,n.textoPrimeraDecision="",n.textoSegundaDecision="",n.textoTerceraDecision="",n.UpdateDecision=!1,n.showTrheeOption=!1,n.showSecondOption=!0,n.spanContenido=!1,n.spanTypeDecision=!1,n.spanPrimera=!1,n.spanSegunda=!1,n.spanTercera=!1,n.finalStatus=!1,n.decision,n.statusSeleccionadoActual,void 0==s.permission&&(console.log("cambio"),$location.url("/login")),e.ObtenerCapitulos(o).then(function(e){for(var i=0;i<e.data.length;i++)e.data[i].index=i;n.capitulos=e.data,console.log(n.capitulos)})["catch"](function(e){console.log(e)}),n.buttonEdit=function(){n.showEditStatus=!0},n.cambioCapitulo=function(){if(null!=n.capitulo_seleccionado){n.disableSpanEstatus=!1,console.log(n.capitulo_seleccionado),n.disableEstatusSelect=!1;var i={chapter:n.capitulos[n.capitulo_seleccionado].id_chapter};console.log(i),e.ObtenerEstatus(i).then(function(e){n.UpdateDecision=!0;for(var i=0;i<e.data.length;i++)e.data[i].index=i;console.log(e.data),n.estatus=e.data})["catch"](function(e){n.errorNoStatus=!0,console.log(e)})}},n.actualizarListaestatus=function(){if(null!=n.capitulo_seleccionado){var i={chapter:n.capitulos[n.capitulo_seleccionado].id_chapter};e.ObtenerEstatus(i).then(function(e){for(var i=0;i<e.data.length;i++)e.data[i].index=i;console.log(e.data),n.estatus=e.data})["catch"](function(e){n.errorNoStatus=!0,console.log(e)})}},n.cambioLimiteTiempo=function(){n.limiteTiempo?n.limiteTiempo=!0:n.limiteTiempo=!1},n.changeTypeDecision=function(){3==n.decisionType?n.showSecondOption=!1:n.showSecondOption=!0,2==n.decisionType?n.showTrheeOption=!0:n.showTrheeOption=!1},n.cambioEstatus=function(){n.textoPrimeraDecision=null,n.textoSegundaDecision=null,n.textoTerceraDecision=null,n.buttonEditDisable=!1,n.statusSeleccionadoActual=n.estatus[n.estatus_seleccionado],n.finalStatus=n.statusSeleccionadoActual.isEnd,n.statusSeleccionadoActual.description?n.statusDescription=n.statusSeleccionadoActual.description:n.statusDescription=null;var i={status:n.statusSeleccionadoActual.id_estatus};e.ObtenerDecisiones(i).then(function(e){n.UpdateDecision=!0,n.decision=e.data,n.limiteTiempo=n.decision.limitTime,console.log(n.decision),n.decision.uniqDecisionReq?(n.decisionType="3",n.showSecondOption=!1,n.showTrheeOption=!1,n.textoPrimeraDecision=n.decision.descriptionOne):n.decision.singleDecision?(n.decisionType="1",n.textoPrimeraDecision=n.decision.descriptionOne,n.textoSegundaDecision=n.decision.descriptionTwo,n.showSecondOption=!0,n.showTrheeOption=!1):(n.showTrheeOption=!0,n.decisionType="2",n.showSecondOption=!0,n.showTrheeOption=!0,n.textoPrimeraDecision=n.decision.descriptionOne,n.textoSegundaDecision=n.decision.descriptionTwo,n.textoTerceraDecision=n.decision.descriptionThree)})["catch"](function(e){n.UpdateDecision=!1})},n.updateEstatus=function(){var i=!0,a=!0,o=!0;if(n.spanContenido=!1,n.spanTypeDecision=!1,n.spanPrimera=!1,n.spanSegunda=!1,n.spanTercera=!1,console.log(n.decisionType),n.statusDescription||(n.spanContenido=!0,i=!1),n.finalStatus){if(i){var c={description:n.statusDescription,id_estatus:n.statusSeleccionadoActual.id_estatus,decisionsAtached:!0};console.log(c),e.ActualizarEstatus(c).then(function(e){alert("Actualizado correctamente"),t.location.reload()})["catch"](function(e){alert("Error llama al dministrador"),t.location.reload()})}}else if(n.decisionType?(("2"==n.decisionType||"3"==n.decisionType)&&(a=!1,o=!1),"3"==n.decisionType&&(o=!0)):(n.spanTypeDecision=!0,i=!1),n.textoPrimeraDecision||(n.spanPrimera=!0,i=!1),"3"!=n.decisionType&&(n.textoSegundaDecision||(n.spanSegunda=!0,i=!1)),n.textoTerceraDecision||"2"!=n.decisionType||(n.spanTercera=!0,i=!1),"1"==n.decisionType&&(n.textoTerceraDecision=null),n.UpdateDecision){if(i){var c={description:n.statusDescription,id_estatus:n.statusSeleccionadoActual.id_estatus,decisionsAtached:!0};console.log(c),e.ActualizarEstatus(c).then(function(i){var s={id_decision:{id_decision:n.decision.id_decision},updateDecision:{descriptionOne:n.textoPrimeraDecision,descriptionTwo:n.textoSegundaDecision,descriptionThree:n.textoTerceraDecision,singleDecision:a,uniqDecision:o,limitTime:n.limiteTiempo}};e.ActualizarDecisiones(s).then(function(e){alert("Actualizado correctamente"),t.location.reload()})["catch"](function(e){alert("Error llama al dministrador"),t.location.reload()})})["catch"](function(e){})}}else if(i){var c={description:n.statusDescription,id_estatus:n.statusSeleccionadoActual.id_estatus,decisionsAtached:!0};console.log(c),e.ActualizarEstatus(c).then(function(i){var c={descriptionOne:n.textoPrimeraDecision,descriptionTwo:n.textoSegundaDecision,descriptionThree:n.textoTerceraDecision,singleDecision:a,uniqDecision:o,limitTime:n.limiteTiempo,status:n.statusSeleccionadoActual.id_estatus,chapter:n.capitulos[n.capitulo_seleccionado].id_chapter,admin:s.idAdmin};e.CrearDecision(c).then(function(e){alert("Actualizado correctamente"),t.location.reload()})["catch"](function(e){alert("Error llama al dministrador"),t.location.reload()})})["catch"](function(e){})}},a.$on("statusAdded",function(e,i){n.actualizarListaestatus()})}]),angular.element(document).ready(function(e){function i(){var e=angular.element("body > #wrapper").height()-61;angular.element(".sidebard-panel").css("min-height",e+"px");var i=angular.element("nav.navbar-default").height(),a=angular.element("#page-wrapper").height();i>a&&angular.element("#page-wrapper").css("min-height",i+"px"),a>i&&angular.element("#page-wrapper").css("min-height",angular.element(window).height()+"px"),angular.element("body").hasClass("fixed-nav")&&(i>a?angular.element("#page-wrapper").css("min-height",i+"px"):angular.element("#page-wrapper").css("min-height",angular.element(window).height()-60+"px"))}angular.element(window).bind("load resize scroll",function(){angular.element("body").hasClass("body-small")||i()}),angular.element(window).scroll(function(){angular.element(window).scrollTop()>0&&!angular.element("body").hasClass("fixed-nav")?angular.element("#right-sidebar").addClass("sidebar-top"):angular.element("#right-sidebar").removeClass("sidebar-top")}),e(function(){i()}),angular.element(window).bind("load resize",function(){angular.element(document).width()<769?angular.element("body").addClass("body-small"):angular.element("body").removeClass("body-small")})}),function(){"use strict";angular.module("frontend").factory("Usuario",["Restangular",function(e){return e.service("usuario")}])}(),function(){"use strict";function e(e,i,a,t,s,n,o){n.setErrorInterceptor(function(e){401===e.status&&(delete o.auth,s.go("login"))}),n.setFullRequestInterceptor(function(e,i,a,t,s,n,o){return{element:e,headers:s,params:n,httpConfig:o}}),n.addResponseInterceptor(function(e,i){return"getList"===i?e.data:e}),t.isTest=a.site.staging,t.logout=function(){delete o.auth,delete o.prof,s.go("login")},t.$on("$stateChangeStart",function(e,i){t.userInfo={nombre:"Super Admin",correoElectronico:"admin@app.com",username:"samdin"}}),i.debug("runBlock end")}e.$inject=["Auth","$log","EnvironmentConfig","$rootScope","$state","Restangular","$localStorage"],angular.module("frontend").run(e)}(),function(){"use strict";function e(e,i){e.state("login",{url:"/login",templateUrl:"app/auth/auth.html",controller:"AuthController",controllerAs:"auth"}).state("i",{"abstract":!0,url:"/",templateUrl:"app/components/common/content.html"}).state("i.main",{url:"inicio/",templateUrl:"app/main/main.html"}).state("i.admin",{url:"Admin/",templateUrl:"app/administrador/administrador.html"}).state("i.estatus",{url:"admin_estatus/",templateUrl:"app/AdministradorEstatus/AdministradorEstatus.html"}),i.when("","/login"),i.otherwise("/login")}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("frontend").config(e)}(),function(){"use strict";function e(e,i,a,t,s,n,o){e.debugEnabled(!0),i.allowHtml=!0,i.timeOut=3e3,i.positionClass="toast-top-center",i.preventDuplicates=!1,i.progressBar=!0,a.setBaseUrl(t.site.rest.baseUrl),a.setRequestSuffix("/"),n.setKeyPrefix("frn-"),s.defaults={"default":"retro"},o.setPath("app/components/common/pagination.html")}e.$inject=["$logProvider","toastrConfig","RestangularProvider","EnvironmentConfig","gravatarServiceProvider","$localStorageProvider","paginationTemplateProvider"],angular.module("frontend").config(e)}(),angular.module("frontend").directive("sideNavigation",["$timeout",function(e){return{restrict:"A",link:function(i,a){i.$watch("authentication.user",function(){e(function(){a.metisMenu()})})}}}]).directive("minimalizaSidebar",["$timeout",function(e){return{restrict:"A",template:'<a class="navbar-minimalize minimalize-styl-2 btn btn-primary " href="" ng-click="minimalize()"><i class="fa fa-bars"></i></a>',controller:["$scope",function(i){i.minimalize=function(){angular.element("body").toggleClass("mini-navbar"),!angular.element("body").hasClass("mini-navbar")||angular.element("body").hasClass("body-small")?(angular.element("#side-menu").hide(),e(function(){angular.element("#side-menu").fadeIn(400)},200)):angular.element("#side-menu").removeAttr("style")}}]}}]).directive("pwCheck",[function(){return{require:"ngModel",link:function(e,i,a,t){var s="#"+a.pwCheck;i.add(s).on("keyup",function(){e.$apply(function(){var e=i.val()===$(s).val();t.$setValidity("pwmatch",e)})})}}}]).directive("sort",function(){return{restrict:"A",transclude:!0,template:"<span ng-click=\"onClick()\"><span ng-transclude></span><i class=\"fa fa-sort m-l-xs\"ng-class=\"{ 'fa fa-sort-asc' : order===by && !reverse,'fa fa-sort-desc' : order===by && reverse,'fa fa-sort' : order!=by}\"></i></span>",scope:{order:"=",by:"=",reverse:"="},link:function(e){e.onClick=function(){e.order===e.by?e.reverse=!e.reverse:(e.by=e.order,e.reverse=!1)}}}}),angular.module("frontend.config",[]).constant("EnvironmentConfig",{site:{debug:!0,staging:!0,rest:{baseUrl:"http://ec2-18-218-175-107.us-east-2.compute.amazonaws.com:1337"},oauth:{clientId:"123456789qwertyuiopasdfghjkl123456789"},sentry:{dsn:"http://123456789qwertyuiopasdfghjkl123456789@sentry.app.com/62"}}}),angular.module("frontend").run(["$templateCache",function(e){e.put("app/AdministradorEstatus/AdministradorEstatus.html",'<div class="row wrapper border-bottom white-bg page-heading"><div class="col-lg-9"><h2>Bienvenido</h2><ol class="breadcrumb"><li class="active"><strong>Inicio</strong></li></ol></div></div><div class="wrapper wrapper-content animated fadeIn" ng-controller="AdministradorEstatusController as vm"><div class="ibox-content"><div class="row"><div class="col-md-4"><button type="button" class="btn btn-w-m btn-primary" add-estatus="">Crear Estatus</button></div></div></div><div class="ibox-content"><div class="row"><div class="col-sm-6"><div class="form-group"><label>Selecciona capitulo <span class="text-danger">*</span></label><select class="form-control m-b" ng-model="vm.capitulo_seleccionado" ng-change="vm.cambioCapitulo()" ng-options="chapter.index as chapter.chapter_name for chapter in vm.capitulos" id="chapters"><option value="">Seleccione</option></select></div></div></div><div class="row"><div class="col-md-6"><label>Selecciona Estatus a editar <span class="text-danger">*</span></label><select ng-disabled="vm.disableEstatusSelect" class="form-control m-b" ng-change="vm.cambioEstatus()" ng-model="vm.estatus_seleccionado" ng-options="estatus.index as estatus.title for estatus in vm.estatus" id="chapters"><option value="">Seleccione</option></select><span ng-show="vm.errorNoStatus" class="text-danger">No hay estatus agegados a este capitulo</span></div><div class="col-md-8"><button type="button" class="btn btn-w-m btn-primary" ng-disabled="vm.buttonEditDisable" ng-click="vm.buttonEdit()">Editar Estatus</button></div></div></div><div ng-show="vm.showEditStatus" class="ibox-content"><div class="row"><div class="col-md-12"><label>Contenido de Estatus</label></div></div><div class="row"><textarea class="col-md-12" rows="20" ng-model="vm.statusDescription"></textarea> <span class="error text-danger" ng-show="vm.spanContenido">Requiere un contenido</span></div><div class="row"><div class="col-md-12"><label>Agregar o editar decisiones de Estatus</label></div></div><div class="row"><div class="col-sm-6"><div class="form-group"><label>Selecciona tipo de decision <span class="text-danger">*</span></label><select class="form-control m-b" id="chapters" ng-change="vm.changeTypeDecision()" ng-model="vm.decisionType"><option value="">Seleccione</option><option value="3">Unica</option><option value="1">Simple</option><option value="2">Tres decisiones</option></select><span class="error text-danger" ng-show="vm.spanTypeDecision">Seleccione el tipo de decision</span></div></div></div><div class="row"><div class="col-sm-12"><div class="form-group"><label>Primera decision <span class="text-danger">*</span></label> <input ng-model="vm.textoPrimeraDecision"> <span class="error text-danger" ng-show="vm.spanPrimera">El campo es requerido</span></div></div></div><div ng-show="vm.showSecondOption" class="row"><div class="col-sm-12"><div class="form-group"><label>Segunda decision <span class="text-danger">*</span></label> <input ng-model="vm.textoSegundaDecision"> <span class="error text-danger" ng-show="vm.spanSegunda">El campo es requerido</span></div></div></div><div ng-show="vm.showTrheeOption" class="row"><div class="col-sm-12"><div class="form-group"><label>Tercera decision <span class="text-danger">*</span></label> <input ng-model="vm.textoTerceraDecision"> <span class="error text-danger" ng-show="vm.spanTercera">El campo es requerido</span></div></div></div><div class="row"><div class="col-sm-6"><div class="form-group"><label>Limite de tiempo <span class="text-danger">*</span></label> <input type="checkbox" ng-change="vm.cambioLimiteTiempo()" ng-model="vm.limiteTiempo" ng-checked="vm.limiteTiempo"></div></div></div><div class="row"><div class="col-md-8"><button type="button" class="btn btn-w-m btn-primary" ng-click="vm.updateEstatus()">Actualizar Estatus</button></div></div></div></div>'),e.put("app/administrador/administrador.html",'<div class="row wrapper border-bottom white-bg page-heading"><div class="col-lg-9"><h2>Bienvenido</h2><ol class="breadcrumb"><li class="active"><strong>Inicio</strong></li></ol></div></div><div class="wrapper wrapper-content animated fadeIn" ng-controller="AdministradorController as vm"><div class="ibox-content"><div class="row"><div class="col-md-2"></div><div class="col-md-8"><button type="button" class="btn btn-w-m btn-primary" add-chapter="">Nuevo Capitulo</button></div></div></div><div class="ibox-content"><div class="row"><div class="col-md-2"></div><div class="col-md-4"><button type="button" ng-click="vm.actualizar()" class="btn btn-w-m btn-primary">Liberar capitulo</button></div><div class="col-md-4"><select class="form-control m-b" ng-model="vm.capitulo_seleccionado" ng-options="chapter.index as chapter.chapter_name for chapter in vm.capitulos" id="chapters"><option value="">Seleccione</option></select></div></div></div><div class="ibox-content"><div class="row"><div class="col-md-2"></div><div class="col-md-8"><button ui-sref="i.estatus" type="button" class="btn btn-w-m btn-primary">Nuevo Estatus</button></div></div></div></div>'),e.put("app/auth/auth.html",'<div class="loginColumns animated fadeIn" ng-controller="AuthController as auth"><div class="row"><div class="col-md-6 text-white"><h2 class="font-bold">Webapp</h2><p>Perfectly designed and precisely prepared with over 50 pages with extra new web app views.</p><p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\'s standard dummy text ever since the 1500s.</p><p>When an unknown printer took a galley of type and scrambled it to make a type specimen book.</p><p><small>It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.</small></p></div><div class="col-md-6"><div class="ibox-content"><p class="text-center"><i class="fa fa-skyatlas fa-15x"></i></p><form class="m-t-sm" ng-submit="auth.login()" name="login" id="login"><div class="form-group"><input id="username" required="" type="text" class="form-control" placeholder="Usuario" ng-model="auth.username"></div><div class="form-group"><input id="password" required="" type="password" class="form-control" placeholder="Contraseña" ng-model="auth.contrasenia"></div><div class="form-group text-center" ng-if="auth.loading"><i class="fa fa-spinner fa-pulse fa-3x fa-fw m-t-sm"></i></div><button class="btn btn-success btn-block m-b-lg" ng-disabled="!login.$valid" ng-hide="auth.loading">Iniciar sesión</button></form><div class="alert alert-danger animated shake" ng-if="auth.error" ng-bind="auth.error"></div><p class="m-t-lg"></p></div></div></div><hr><div class="row text-white"><div class="col-md-6">Webapp Inc.</div><div class="col-md-6 text-right"><small>© 2017</small></div></div></div>'),e.put("app/main/main.html",'<div class="row wrapper border-bottom white-bg page-heading"><div class="col-lg-9"><h2>Bienvenido</h2><ol class="breadcrumb"><li class="active"><strong>Inicio</strong></li></ol></div></div><div class="wrapper wrapper-content animated fadeIn" ng-controller="MainController as vm"><div class="row"><div class="col-lg-12"><div class="text-center m-t-lg"><h1>Frontend Webapp</h1></div></div></div><div class="row"><div class="col-md-12"><div class="widget style1"><div class="row"><div class="text-center"><i class="fa fa-skyatlas fa-15x"></i></div></div></div></div></div></div>'),
e.put("app/components/common/content.html",'<div id="wrapper"><div ng-include="\'app/components/common/navigation.html\'"></div><div id="page-wrapper" class="gray-bg {{$state.current.name}}"><div ng-include="\'app/components/common/topnavbar.html\'"></div><div ui-view=""></div></div></div>'),e.put("app/components/common/footer.html",'<div class="footer"><div class="pull-right">10GB of <strong>250GB</strong> Free.</div><div><strong>Copyright</strong> Example Company &copy; 2015-2016</div></div>'),e.put("app/components/common/ibox_tools.html",'<div class="ibox-tools" uib-dropdown=""><a ng-click="showhide()"><i class="fa fa-chevron-up"></i></a> <a uib-dropdown-toggle="" href=""><i class="fa fa-wrench"></i></a><ul uib-dropdown-menu=""><li><a href="">Config option 1</a></li><li><a href="">Config option 2</a></li></ul><a ng-click="closebox()"><i class="fa fa-times"></i></a></div>'),e.put("app/components/common/navigation.html",'<nav class="navbar-default navbar-static-side" role="navigation"><div class="sidebar-collapse"><ul side-navigation="" class="nav metismenu" id="side-menu"><li class="nav-header"><div class="profile-element" uib-dropdown=""><img alt="{{userInfo.email}}" class="img-circle" gravatar-src="\'{{userInfo.email}}\'" gravatar-size="48"> <a href=""><span class="clear"><span class="text-xs block m-t-xs">{{ userInfo.nombre }}</span> <span class="block"><strong class="font-bold">{{ userInfo.correoElectronico }}</strong></span></span></a><ul uib-dropdown-menu="" class="animated flipInX m-t-xs"><li><a href="">Salir</a></li></ul></div><div class="logo-element"></div></li><li ui-sref-active="active"><a ui-sref="i.main"><i class="fa fa-home"></i> <span class="nav-label">Inicio</span></a></li><li class=""><a href="#"><i class="fa fa-pie-chart"></i> <span class="nav-label">Historia</span><span class="fa arrow"></span></a><ul class="nav nav-second-level collapse"><li ui-sref-active="active"><a ui-sref="i.admin">Administar</a></li></ul></li></ul></div></nav>'),e.put("app/components/common/pagination.html",'<ul class="pagination pagination-md" ng-if="1 < pages.length || !autoHide"><li ng-if="boundaryLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(1)">&laquo;</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(pagination.current - 1)">&lsaquo;</a></li><li ng-repeat="pageNumber in pages track by tracker(pageNumber, $index)" ng-class="{ active : pagination.current == pageNumber, disabled : pageNumber == \'...\' }"><a href="" ng-click="setCurrent(pageNumber)">{{ pageNumber }}</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.current + 1)">&rsaquo;</a></li><li ng-if="boundaryLinks" ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.last)">&raquo;</a></li></ul>'),e.put("app/components/common/topnavbar.html",'<div class="row border-bottom"><nav class="navbar navbar-static-top white-bg" role="navigation" style="margin-bottom: 0"><div class="navbar-header"><span minimaliza-sidebar=""></span><div class="text-center pull-right" ng-show="$root.isTest"><h2 class="text-danger font-italic m-l-lg">ENTORNO DE PRUEBAS</h2></div></div><ul class="nav navbar-top-links navbar-right"><li><a href="#" ng-click="logout()"><i class="fa fa-sign-out"></i> Salir</a></li></ul></nav></div>'),e.put("app/components/modals/addChapter.html",'<div class="modal-header"><h3 class="modal-title" id="modal-title">Nuevo usuario</h3></div><div class="modal-body" id="modal-body"><div class="row"><form name="frmnew"><div class="row"><div class="col-sm-6"><div class="form-group"><label>Nombre del capitulo <span class="text-danger">*</span></label> <input required="" type="text" class="form-control" ng-model="vm.name"></div></div></div><div class="row"><div class="flex col-sm-12"><div class="form-group"><label>Descripción</label> <input required="" type="text" class="form-control" ng-model="vm.description"></div></div></div><div class="row"><div class="col-sm-6"><div class="form-group"><label>Selecciona capitulo anterior <span class="text-danger">*</span></label><select class="form-control m-b" ng-disabled="vm.disabledSelectChapter" ng-model="vm.capitulo_seleccionado" ng-change="vm.cambioCapitulo()" ng-options="chapter.index as chapter.chapter_name for chapter in vm.capitulos" id="chapters"><option value="">Seleccione</option></select></div></div></div><div class="row"><div class="col-sm-6"><div class="form-group"><label>Es inicio unico <span class="text-danger">*</span></label> <input type="checkbox" ng-checked="vm.InicioUnico" ng-change="vm.cambioInicioUnico()" ng-model="vm.InicioUnico" id="checkInicioUnico"></div></div></div></form></div></div><div class="modal-footer"><button class="btn btn-warning" type="button" ng-click="vm.cancel()">Cancelar</button> <button class="btn btn-success" type="button" ng-click="vm.ok()" ng-disabled="!frmnew.$valid">Guardar</button></div>'),e.put("app/components/modals/addEstatus.html",'<div class="modal-header"><h3 class="modal-title" id="modal-title">Nuevo usuario</h3></div><div class="modal-body" id="modal-body"><div class="row"><form name="frmnew"><div class="row"><div class="col-sm-6"><div class="form-group"><label>Nombre del estatus <span class="text-danger">*</span></label> <input required="" type="text" class="form-control" ng-model="vm.name"> <span class="error text-danger" ng-show="vm.spanTitle">Requiere un titulo</span></div></div></div><div class="row"><div class="col-sm-6"><div class="form-group"><label>Selecciona capitulo <span class="text-danger">*</span></label><select class="form-control m-b" ng-model="vm.capitulo_seleccionado" ng-change="vm.cambioCapitulo()" ng-options="chapter.index as chapter.chapter_name for chapter in vm.capitulos" id="chapters"><option value="">Seleccione</option></select><span class="error text-danger" ng-show="vm.disableSpanCapitulos">No hay capitulos creados</span></div></div></div><div class="row"><div class="col-sm-6"><div class="form-group"><label>Selecciona estatus anterior <span class="text-danger">*</span></label><select ng-disabled="vm.disableEstatusSelect" class="form-control m-b" ng-change="vm.cambioEstatus()" ng-model="vm.estatus_seleccionado" ng-options="estatus.index as estatus.title for estatus in vm.estatus" id="chapters"><option value="">Seleccione</option></select><span class="error text-danger" ng-show="vm.disableSpanEstatus">No hay estatus anteriores</span> <span class="error text-danger" ng-show="vm.SpanEstatusNoSeleccionado">Seleccione el estatus anterior</span></div></div></div><div class="row"><div class="col-sm-6"><div class="form-group"><label>Selecciona la decision anterior <span class="text-danger">*</span></label><select ng-disabled="vm.disableDecisionSelect" class="form-control m-b" ng-change="vm.cambioDecision()" ng-model="vm.decision_seleccionada" ng-options="decision.index as decision.name for decision in vm.decisions" id="chapters"><option value="">Seleccione</option></select><span class="error text-danger" ng-show="vm.disableSpanDecision">No hay decisiones validas disponibles (fueron utilizadas todas o aun no son creadas decisiones)</span> <span class="error text-danger" ng-show="vm.SpanDecisionNoSeleccionado">Debe selecionar una decision anterior</span></div></div></div><div class="row"><div class="col-sm-6"><div class="form-group"><label>Mas de una decision anterior conlleva a este estatus <span class="text-danger">*</span></label> <input ng-disabled="vm.disableMasDeUnaDecision" type="checkbox" ng-checked="vm.dobleDecisionAnterior" ng-change="vm.cambioDobleDecisionAnterior()" ng-model="vm.dobleDecisionAnterior" id="checkDobleDecisionAnterior"></div></div></div><div class="row"><div class="col-sm-6"><div class="form-group"><label>Selecciona estatus anterior 2 <span class="text-danger">*</span></label><select ng-disabled="vm.disableEstatusSelect2" class="form-control m-b" ng-change="vm.cambioEstatus2()" ng-model="vm.estatus_seleccionado2" ng-options="estatus.index as estatus.title for estatus in vm.estatus" id="chapters"><option value="">Seleccione</option></select><span class="error text-danger" ng-show="vm.disableSpanEstatus2">No hay estatus anteriores</span> <span class="error text-danger" ng-show="vm.SpanEstatusNoSeleccionado2">Seleccione el estatus anterior2</span></div></div></div><div class="row"><div class="col-sm-6"><div class="form-group"><label>Selecciona la decision anterior 2 <span class="text-danger">*</span></label><select ng-disabled="vm.disableDecisionSelect2" class="form-control m-b" ng-change="vm.cambioDecision2()" ng-model="vm.decision_seleccionada2" ng-options="decision.index as decision.name for decision in vm.decisions2" id="chapters"><option value="">Seleccione</option></select><span class="error text-danger" ng-show="vm.disableSpanDecision2">No hay decisiones validas disponibles (fueron utilizadas todas o aun no son creadas decisiones)</span> <span class="error text-danger" ng-show="vm.SpanDecisionNoSeleccionado2">Debe selecionar una decision anterior</span></div></div></div><div class="row"><div class="col-sm-6"><div class="form-group"><label>Es el primer estatus <span class="text-danger">*</span></label> <input ng-disabled="vm.disablePrimerEstatus" type="checkbox" ng-checked="vm.primerEstatus" ng-change="vm.cambioPrimerEstaus()" ng-model="vm.primerEstatus" id="checkPrimerEstatus"></div></div></div><div class="row"><div class="col-sm-6"><div class="form-group"><label>Es estatus final <span class="text-danger">*</span></label> <input ng-disabled="vm.disableEstatusFinal" type="checkbox" ng-checked="vm.EstatusFinal" ng-change="vm.cambioEstatusFinal()" ng-model="vm.EstatusFinal" id="checkEstatusFinal"></div></div></div><span class="error text-danger" ng-show="vm.showSpanDecisionDoble">No puede seleccionarse dos veces el mismo estatus</span></form></div></div><div class="modal-footer"><button class="btn btn-warning" type="button" ng-click="vm.cancel()">Cancelar</button> <button class="btn btn-success" type="button" ng-click="vm.ok()" ng-disabled="vm.saveDisable">Guardar</button></div>')}]);
//# sourceMappingURL=../maps/scripts/app-816f43dc0e.js.map
